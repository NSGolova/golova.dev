<!DOCTYPE html>
<html lang="en">
<head>
    <title>Just donut</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
    body {
        font-family: Monospace;
        background-color: #000;
        color: #fff;
        margin: 0px;
        overflow: hidden;
    }
</style>
</head>

<body>
    <div>
        <script type="module">
          import * as THREE from 'https://unpkg.com/three@0.126.1/build/three.module.js';
          import { OrbitControls } from 'https://unpkg.com/three@0.126.1/examples/jsm/controls/OrbitControls.js';
          import { GLTFLoader } from 'https://unpkg.com/three@0.126.1/examples/jsm/loaders/GLTFLoader.js';
          // import { Stats } from 'https://unpkg.com/three@0.126.1/examples/js/libs/stats.min.js';
        var container, stats, model;
        var controls
        var camera, scene, renderer, light;
        init();
        animate();
        onWindowResize();
        function init() {
            container = document.createElement( 'div' );
            document.body.appendChild( container );
            camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.25, 20 );
            camera.position.set( -1.8, 0.9, 2.7 );

            scene = new THREE.Scene();

            light = new THREE.HemisphereLight( 0xbbbbff, 0x444422 );
            light.position.set( 0, 1, 0 );
            scene.add( light );
            // model
            var loader = new GLTFLoader();
            loader.load( 'models/ddonut.glb', function ( gltf ) {
                gltf.scene.traverse( function ( child ) {

                } );
                model = gltf.scene;
                scene.add( model );

            } );
            renderer = new THREE.WebGLRenderer( { antialias: true } );
            renderer.setPixelRatio( window.devicePixelRatio );
            renderer.setSize( window.innerWidth/2, window.innerHeight/2 );
            renderer.gammaOutput = true;
            container.appendChild( renderer.domElement );
            controls = new OrbitControls( camera, renderer.domElement);
            controls.target.set( 0, -0.2, -0.2 );
            controls.update();
            window.addEventListener( 'resize', onWindowResize, false );
            // stats
            // stats = new Stats();
            // container.appendChild( stats.dom );
        }
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize( window.innerWidth, window.innerHeight );
        }
        //
        function animate() {
            requestAnimationFrame( animate );

            if (model) {
            model.rotation.x =+ 0.3;
          }

            renderer.render( scene, camera );
            // stats.update();

        }
    </script>
</div>
</body>
</html>
